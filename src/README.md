# GraphQL 기초

GraphQL의 2가지 기본 구성요소는 스키마와 리졸버 이다.

## 스키마

스키마는 데이터와 상호작용을 글로 표현한 것이다. GraphQL에 스키마가 필요한 이유는 API에 대해 엄격한 계획을 강제하기 위함이다.

스키마의 기본 구성 요소는 객체 자료형이고 총 5가지의 스칼라 자료형이 내장되어 있다.

1. `String` : UTF-8 문자 인코딩을 사용하는 문자열
2. `Boolean` : 참 또는 거짓 값
3. `Int` : 32비트 정수
4. `Float` : 부동 소수점 값
5. `ID` : 고유 식별자

스키마는 필수 필드값과 옵션 필드값을 설정할 수 있다.
`!` 를 사용하면 필드에 값이 필수적으로 포함되어야 하고 `[]`를 사용하면 필드에 값을 선택적으로 포함시킬 수 있다.

```javascript
type Pizza {
  id: ID!
  size: String!
  slices: Int!
  toppings: [String]
}
```

## 리졸버

리졸버는 이름 그대로 API 사용자가 요청한 데이터를 해결한다.
리졸버를 작성하려면 스키마에서 리졸버를 정의한 다음 자바스크립트 코드 내에서 로직을 구현해야 한다. API에는 쿼리와 뮤테이션 이라는 2가지 자료형의 리졸버가 포함된다.

1. `쿼리` : 쿼리는 API에 특정 데이터를 원하는 형식으로 요청한다. 쿼리는 데이터를 수정하지 않으며 데이터에 접근만 할 수 있다.
2. `뮤테이션` : API에서 데이터를 수정할 때는 뮤테이션을 사용한다. 객체의 형태로 결과를 반환하며, 일반적으로 수행한 작업의 최종 결과를 반환한다.

### 리졸버에 파라미터 받기

```javascript
type Query {
    hello: String
    notes: [Note!]!
    note(id: ID!): Note!
  }
```

위와 같이 notes가 아니라 고유한 값(id)에 맞는 note 하나의 노트만 쿼리할 수 있게 스키마를 작성할 수 있다. 이렇게 스키마를 작성하면 요청받는 노트를 반환하는 쿼리 리졸버를 작성할 수 있다.

리졸버 함수의 파라미터

1. `parent` : parent 쿼리의 결과로 쿼리를 중복으로 감쌀 때 유용하다.
2. `args` : 사용자가 쿼리와 함께 전달한 인수.
3. `context` : 서버 애플리케이션이 리졸버 함수에 전달하는 정보, 현재 사용자나 DB정보 같은 것이 포함된다.
4. `info` : 쿼리 자체에 대한 정보
